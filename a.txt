CREATE OR REPLACE FUNCTION r() RETURNS JSONB AS
$$
BEGIN
RETURN json_build_object( 
'children',
  array(SELECT * FROM originaldevelopers NATURAL JOIN distribucije_linuxa
  WHERE originaldevelopers.distributionname = distribucije_linuxa.distributionname));
END;
$$ LANGUAGE PLPGSQL;

CREATE OR REPLACE FUNCTION r() RETURNS JSONB AS
$$
BEGIN
RETURN json_build_object( 
'children',
  array(SELECT supportedde FROM distribucije_linuxa LIMIT 1));
END;
$$ LANGUAGE PLPGSQL;

CREATE OR REPLACE FUNCTION r(dist TEXT) RETURNS JSONB AS
$$
BEGIN
RETURN json_build_object( 
'name',
  array(SELECT developername FROM originaldevelopers WHERE distributionname = dist));
END;
$$ LANGUAGE PLPGSQL;


